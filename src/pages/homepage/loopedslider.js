/*loopedSlider 0.5.1 - jQuery plugin|written by Nathan Searles	| *	http://nathansearles.com/loopedslider/| *| *	Copyright (c) 2009 Nathan Searles (http://nathansearles.com/)| *	Dual licensed under the MIT (MIT-LICENSE.txt)| *	and GPL (GPL-LICENSE.txt) licenses. * *	Built for jQuery library | http://jquery.com |*/
(function (e) { e.fn.loopedSlider = function (t) { var n = { container: ".container", slides: ".slides", pagination: ".hp-pagination", containerClick: false, autoStart: 7000, slidespeed: 500, fadespeed: 500, autoHeight: false, hoverPause: true }; this.each(function () { function p() { sliderIntervalID = setInterval(function () { if (c === false) { w("next", true) } }, i.autoStart) } function g() { if (new Date - d < m) { setTimeout(g, m) } else { v = false; if (i.autoStart) { clearInterval(sliderIntervalID) } e(i.pagination, r).find('a[rel="1"]').click(); u = 1; l = 0; f = e(i.container, r).outerWidth(); e(i.slides, r).children().each(function () { e(this).css({ position: "absolute", left: l, display: "block", width: f }); l = l + f }); setInterval(function () { if (c === false) { w("next", true) } }, i.autoStart) } } function y(t) { if (t === a + 1) { t = 1 } if (t === 0) { t = a } e(s, r).parent().siblings().removeClass("active"); e(s + '[rel="' + t + '"]', r).parent().addClass("active") } function b(t) { if (t === a + 1) { t = 1 } if (t === 0) { t = a } var n = e(i.slides, r).children(":eq(" + (t - 1) + ")", r).outerHeight(); e(i.container, r).animate({ height: n }, i.autoHeight) } function w(t, n) { c = true; switch (t) { case "next": u = u + 1; f = e(i.slides, r).children().outerWidth(); o = -(u * f - f); y(u); if (i.autoHeight) { b(u) } e(i.slides, r).animate({ left: o }, i.slidespeed, function () { if (u === a + 1) { u = 1; e(i.slides, r).css({ left: 0 }, function () { e(i.slides, r).animate({ left: o }, i.slidespeed) }); e(i.slides, r).children(":eq(0)").css({ left: 0 }); e(i.slides, r).children(":eq(" + (a - 1) + ")").css({ position: "absolute", left: -f }) } if (u === a) e(i.slides, r).children(":eq(0)").css({ left: a * f }); if (u === a - 1) e(i.slides, r).children(":eq(" + (a - 1) + ")").css({ left: a * f - f }); c = false }); break; case "prev": u = u - 1; o = -(u * f - f); y(u); if (i.autoHeight) { b(u) } e(i.slides, r).animate({ left: o }, i.slidespeed, function () { if (u === 0) { u = a; e(i.slides, r).children(":eq(" + (a - 1) + ")").css({ position: "absolute", left: a * f - f }); e(i.slides, r).css({ left: -(a * f - f) }); e(i.slides, r).children(":eq(0)").css({ left: a * f }) } if (u === 2) e(i.slides, r).children(":eq(0)").css({ position: "absolute", left: 0 }); if (u === 1) e(i.slides, r).children(":eq(" + (a - 1) + ")").css({ position: "absolute", left: -f }); c = false }); break; case "fade": u = [u] * 1; o = -(u * f - f); y(u); if (i.autoHeight) { b(u) } e(i.slides, r).children().fadeOut(i.fadespeed, function () { e(i.slides, r).css({ left: o }); e(i.slides, r).children(":eq(" + (a - 1) + ")").css({ left: a * f - f }); e(i.slides, r).children(":eq(0)").css({ left: 0 }); if (u === a) { e(i.slides, r).children(":eq(0)").css({ left: a * f }) } if (u === 1) { e(i.slides, r).children(":eq(" + (a - 1) + ")").css({ position: "absolute", left: -f }) } e(i.slides, r).children().fadeIn(i.fadespeed); c = false }); break; default: break } } var r = e(this); var i = e.extend(n, t); var s = e(i.pagination + " li a", r); var o = 0; var u = 1; var a = e(i.slides, r).children().size(); var f = e(i.slides, r).children().outerWidth(); var l = 0; var c = false; var h = 0; e(i.slides, r).css({ width: a * f }); e(i.slides, r).children().each(function () { e(this).css({ position: "absolute", left: l, display: "block" }); l = l + f }); e(s, r).each(function () { h = h + 1; e(this).attr("rel", h); e(s.eq(0), r).parent().addClass("active") }); e(i.slides, r).children(":eq(" + (a - 1) + ")").css({ position: "absolute", left: -f }); if (i.autoHeight) { b(u) } if (i.autoStart) { p() } e(".next", r).click(function () { if (c === false) { w("next", true); if (i.autoStart) { clearInterval(sliderIntervalID) } } return false }); e(".previous", r).click(function () { if (c === false) { w("prev", true); if (i.autoStart) { clearInterval(sliderIntervalID) } } return false }); if (i.containerClick) { e(i.container, r).click(function () { if (c === false) { w("next", true); if (i.autoStart) { clearInterval(sliderIntervalID) } } return false }) } if (i.hoverPause) { e(i.slides, r).bind("mouseover", function () { if (i.autoStart) { clearInterval(sliderIntervalID) } }); e(i.slides, r).bind("mouseleave", function () { if (i.autoStart) { clearInterval(sliderIntervalID); p() } }) } e(s, r).click(function () { if (e(this).parent().hasClass("active")) { return false } else { u = e(this).attr("rel"); e(s, r).parent().siblings().removeClass("active"); e(this).parent().addClass("active"); w("fade", u); if (i.autoStart) { clearInterval(sliderIntervalID); p() } return false } }); var d = new Date(1, 1, 2012, 12, 0, 0); var v = false; var m = 500; e(window).resize(function () { if (i.autoStart) { clearInterval(sliderIntervalID) } d = new Date; if (v === false) { v = true; setTimeout(g, m) } }); }) } })(jQuery)